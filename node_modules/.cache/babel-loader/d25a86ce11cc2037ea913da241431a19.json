{"ast":null,"code":"import { useCallback, useState } from 'react';\nexport function useLocalStorage(key, defaultState) {\n  const [value, setValue] = useState(() => {\n    if (typeof localStorage === 'undefined') return defaultState;\n    const value = localStorage.getItem(key);\n\n    try {\n      return value ? JSON.parse(value) : defaultState;\n    } catch (error) {\n      console.warn(error);\n      return defaultState;\n    }\n  });\n  const setLocalStorage = useCallback(newValue => {\n    if (newValue === value) return;\n    setValue(newValue);\n\n    if (newValue === null) {\n      localStorage.removeItem(key);\n    } else {\n      try {\n        localStorage.setItem(key, JSON.stringify(newValue));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }, [value, setValue, key]);\n  return [value, setLocalStorage];\n}","map":{"version":3,"mappings":"AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AAEA,OAAM,SAAUC,eAAV,CAA6BC,GAA7B,EAA0CC,YAA1C,EAAyD;AAC3D,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAI,MAAK;AACvC,QAAI,OAAOM,YAAP,KAAwB,WAA5B,EAAyC,OAAOH,YAAP;AAEzC,UAAMC,KAAK,GAAGE,YAAY,CAACC,OAAb,CAAqBL,GAArB,CAAd;;AACA,QAAI;AACA,aAAOE,KAAK,GAAII,IAAI,CAACC,KAAL,CAAWL,KAAX,CAAJ,GAA8BD,YAA1C;AACH,KAFD,CAEE,OAAOO,KAAP,EAAc;AACZC,aAAO,CAACC,IAAR,CAAaF,KAAb;AACA,aAAOP,YAAP;AACH;AACJ,GAViC,CAAlC;AAYA,QAAMU,eAAe,GAAGd,WAAW,CAC9Be,QAAD,IAAgB;AACZ,QAAIA,QAAQ,KAAKV,KAAjB,EAAwB;AACxBC,YAAQ,CAACS,QAAD,CAAR;;AAEA,QAAIA,QAAQ,KAAK,IAAjB,EAAuB;AACnBR,kBAAY,CAACS,UAAb,CAAwBb,GAAxB;AACH,KAFD,MAEO;AACH,UAAI;AACAI,oBAAY,CAACU,OAAb,CAAqBd,GAArB,EAA0BM,IAAI,CAACS,SAAL,CAAeH,QAAf,CAA1B;AACH,OAFD,CAEE,OAAOJ,KAAP,EAAc;AACZC,eAAO,CAACD,KAAR,CAAcA,KAAd;AACH;AACJ;AACJ,GAd8B,EAe/B,CAACN,KAAD,EAAQC,QAAR,EAAkBH,GAAlB,CAf+B,CAAnC;AAkBA,SAAO,CAACE,KAAD,EAAQS,eAAR,CAAP;AACH","names":["useCallback","useState","useLocalStorage","key","defaultState","value","setValue","localStorage","getItem","JSON","parse","error","console","warn","setLocalStorage","newValue","removeItem","setItem","stringify"],"sourceRoot":"","sources":["../src/useLocalStorage.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}