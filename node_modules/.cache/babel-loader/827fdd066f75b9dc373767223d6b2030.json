{"ast":null,"code":"import { splitArgsAndCtx } from \"../context\";\nimport { ProgramError } from \"../../error\";\nexport default class RpcFactory {\n  static build(idlIx, txFn, idlErrors, provider) {\n    const rpc = async function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      const tx = txFn(...args);\n      const [, ctx] = splitArgsAndCtx(idlIx, [...args]);\n\n      try {\n        const txSig = await provider.send(tx, ctx.signers, ctx.options);\n        return txSig;\n      } catch (err) {\n        console.log(\"Translating error\", err);\n        let translatedErr = ProgramError.parse(err, idlErrors);\n\n        if (translatedErr === null) {\n          throw err;\n        }\n\n        throw translatedErr;\n      }\n    };\n\n    return rpc;\n  }\n\n}","map":{"version":3,"mappings":"AAGA,SAAkBA,eAAlB,QAAyC,YAAzC;AAEA,SAASC,YAAT,QAA6B,aAA7B;AAEA,eAAc,MAAOC,UAAP,CAAiB;AACV,SAALC,KAAK,CACjBC,KADiB,EAEjBC,IAFiB,EAGjBC,SAHiB,EAIjBC,QAJiB,EAIC;AAElB,UAAMC,GAAG,GAAG,kBAAwD;AAAA,wCAA9CC,IAA8C;AAA9CA,YAA8C;AAAA;;AAClE,YAAMC,EAAE,GAAGL,IAAI,CAAC,GAAGI,IAAJ,CAAf;AACA,YAAM,GAAGE,GAAH,IAAUX,eAAe,CAACI,KAAD,EAAQ,CAAC,GAAGK,IAAJ,CAAR,CAA/B;;AACA,UAAI;AACF,cAAMG,KAAK,GAAG,MAAML,QAAQ,CAACM,IAAT,CAAcH,EAAd,EAAkBC,GAAG,CAACG,OAAtB,EAA+BH,GAAG,CAACI,OAAnC,CAApB;AACA,eAAOH,KAAP;AACD,OAHD,CAGE,OAAOI,GAAP,EAAY;AACZC,eAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAjC;AACA,YAAIG,aAAa,GAAGlB,YAAY,CAACmB,KAAb,CAAmBJ,GAAnB,EAAwBV,SAAxB,CAApB;;AACA,YAAIa,aAAa,KAAK,IAAtB,EAA4B;AAC1B,gBAAMH,GAAN;AACD;;AACD,cAAMG,aAAN;AACD;AACF,KAdD;;AAgBA,WAAOX,GAAP;AACD;;AAxB4B","names":["splitArgsAndCtx","ProgramError","RpcFactory","build","idlIx","txFn","idlErrors","provider","rpc","args","tx","ctx","txSig","send","signers","options","err","console","log","translatedErr","parse"],"sourceRoot":"","sources":["../../../../src/program/namespace/rpc.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}